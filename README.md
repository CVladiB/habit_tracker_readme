# Habit Tracker Microservices
Публичная страница трекера привычек https://github.com/CVladiB/habit-tracker (доступ по запросу)

## Цель проекта

Разработать сервис для управления привычками и отслеживания прогресса пользователей с использованием микросервисной архитектуры. **Проект нацелен на практику архитектурного дизайна, DevOps-навыков и построения распределённых систем.**


> Ведется активная разработка

## Реализовано
- Спроектирована архитектура из 12 микросервисов: API Gateway, Service Discovery, Config Server и сервисы трекера привычек.
- Настроено взаимодействие через REST API + Kafka для событийной коммуникации.
- Реализована аутентификация/авторизация пользователей (user-service) и управление привычками (habit-service).
- Настроен CI/CD через GitHub Actions: сборка, тестирование и деплой в Docker.
- Подготовлена инфраструктура: Dockerfile, docker-compose, разворачивание в Kubernetes.
- Внедрён мониторинг и логирование с помощью Prometheus и Grafana.
- Реализована загрузка медиафайлов в S3 с проверкой на вирусы.
- Разработаны модульные тесты (JUnit5, Mockito).


**Проект на Java 21 + Spring Boot (3.5.5), Gradle, Docker**

## Технологический стек

- **Язык:** Java 21
- **Фреймворк:** Spring Boot 3.5.5
- **Сборка:** Gradle
- **Базы данных:** PostgreSQL, MongoDB
- **Миграции:** Flyway
- **Контейнеризация:** Docker
- **Взаимодействие:** REST, внутренние сервисные вызовы через API Gateway, Kafka
- **Тесты:** JUnit 5, Mockito
- **Оркестрация:** Kubernetes
- **Логирование:** Prometheus + Grafana

## Архитектура и Bounded Context

|   | Сервис                   | Описание                                                                                      | БД         | API взаимодействие                                                    | Kafka события / подписки                                                                       |
|---|--------------------------|-----------------------------------------------------------------------------------------------|------------|-----------------------------------------------------------------------|------------------------------------------------------------------------------------------------|
| ✅ | **api-gateway**          | Единая точка входа, аутентификация, маршрутизация.                                            | –          | Входной шлюз, маршрутизация всех запросов                             | –                                                                                              |
| ✅ | **service-discovery**    | Реестр всех работающих экземпляров сервисов.                                                  | –          | Регистрация и обнаружение сервисов                                    | –                                                                                              | 
| ✅ | **config-server**        | Централизованное хранение конфигураций.                                                       | –          | Централизованное хранение конфигураций                                | –                                                                                              |  
| ✅ | **user-service**         | Идентификация и аутентификация пользователей.                                                 | PostgreSQL | Аутентификация, регистрация, управление пользователями                | Публикация событий об удалении пользователей                                                   |
| ✅ | **habit-service**        | Управление метаданными привычек (создание, редактирование).                                   | PostgreSQL | CRUD привычек                                                         | Подписка на события об удалении пользователей                                                  |  
|   | **tracking-service**     | Фиксация фактов выполнения привычек (событий).                                                | MongoDB    | Отправка фактов выполнения                                            | Публикация новых событий треков / Подписка на события об удалении пользователей                |  
|   | **analytics-service**    | Агрегация событий в полезную метрику и статистику.                                            | MongoDB    | –                                                                     | Подписка на события треков, обновление агрегированных метрик, об удалении пользователей        |  
|   | **notification-service** | Доставка уведомлений по разным каналам.                                                       | PostgreSQL | –                                                                     | Подписка на события треков, срыв серии, активация премиум-статуса, об удалении пользователей   |
|   | **billing-service**      | Обработка платежей и управление подписками.                                                   | PostgreSQL | Инициирование платежей                                                | Публикация событий об успешной оплате                                                          |  
|   | **data-export-service**  | Асинхронная генерация отчетов для пользователей. Экспорт в PDF/CSV.                           | PostgreSQL | Запросы на генерацию отчетов, экспорт данных                          | –                                                                                              | 
| ✅ | **media-service**        | Загрузка, хранение и раздача медиафайлов (фото привычек).                                     | MongoDB    | Загрузка и скачивание медиафайлов                                     | Подписка на события об удалении пользователей                                                  |  
|   | **carryover-service**    | Логика переноса невыполненных заданий, расчет целей для новых периодов, обновление аналитики. | PostgreSQL | Вызовы habit-service / analytics-service для пересчёта целей и долгов | Подписка на события о треках (обновление аналитики, пересчёт целей), об удалении пользователей |  

> Сейчас реализованы: **api-gateway, service-discovery, config-server, user-service, habit-service**.

## Интересные технические задачи

Самостоятельная проработка архитектуры из 12 микросервисов.

Настройка сервис-дискавери (Eureka) и централизованного управления конфигурацией (Config Server).

Разворачивание проекта в Kubernetes и настройка CI/CD.

Настройка мониторинга и дашбордов (Prometheus + Grafana).

Интеграция с S3 для хранения медиафайлов и проверка загружаемых файлов на вирусы.

## Результаты

Получен практический опыт проектирования и реализации микросервисной архитектуры с нуля.

Отработаны навыки работы с DevOps-инструментами (Docker, K8s, CI/CD).

Реализованы сервисы, близкие к реальным боевым системам (аутентификация, биллинг, аналитика, уведомления).
